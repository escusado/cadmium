<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Neon.js</title>

  <link rel="icon" type="image/gif" href="img/favicon.gif" />

  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/rainbow.css"  type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  
  <script src="js/rainbow-custom.min.js"></script>
  <script src="js/jquery.js"></script>

  <script src="https://rawgithub.com/azendal/neon/master/neon.js"></script>
  <script src="https://rawgithub.com/freshout-dev/thulium/master/lib/Thulium.js"></script>
  <script src="https://rawgithub.com/freshout-dev/thulium/master/lib/Thulium/Parser.js"></script>
  <script src="https://rawgithub.com/freshout-dev/thulium/master/lib/Thulium/Renderer.js"></script>
  <script src="https://rawgithub.com/freshout-dev/thulium/master/lib/Thulium/Util.js"></script>

</head>
<body>
  
<a href="https://github.com/freshout-dev/neon"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>

  <div class="top-line"></div>
  <div class="wrapper">

    <div class="header">
      <a href="http://freshout-dev.github.io/neon/">
        <img class="tm-icon" src="assets/img/Ne.png" alt="Thulium">
        <h1 class="name">Neon<span>.js</span></h1>
        <div class="tagline">JavaScript DSL for <span>Class</span>ical Inheritance</div>
      </a>
    </div>

    <div class="content">
      <div class="unit">
        <div class="title second h1">What is it?</div>
        <p class="content">
          Neon packs a DSL for Class creation, that helps in making programs following an object oriented design.
        </p>
      </div>

    <div class="unit">

      <a class="get-code" href="https://github.com/freshout-dev/thulium">
          <div class="button get-code-button">
              <span> Get the code on Github! </span>
              <div class="shade"></div>
          </div>      
      </a>
      
      <p class="or">or</p>

        <div class="button try-button">
            <span class="try"></span>
            <div class="shade"></div>
        </div>
        
        <div class="sandbox collapsed">
          <div class="input">
            <div class="highlighted-code">
              <pre><code data-language="javascript">var myTemplate =</code></pre>
            </div>
            <textarea class="code" name="template"><% posts.forEach(function( post, index ){ %>
<div class="post-<%= index %>">
  <div class="post-title"><%= post.title.toUpperCase() %></div>
  <span class="date"><%= post.date %></span>
  <div class="post-content">
    <p>
    <%= post.content.substr(0,20) + '...' %>
    </p>
    <a href="<%= baseUrl+post.slug %>"> more...</a>
  </div>
</div>
<% }) %></textarea>
          </div>

          <div class="input">
            <div class="highlighted-code">
              <pre><code data-language="javascript">var data =</code></pre>
            </div>
            <textarea class="code" name="context">{
  baseUrl : 'my.domain.com/',
  posts : [
    {
      title   : 'Per Teodor Cleve',
      date    : '10/2/1840',
      content : 'Thulium was discovered by Swedish chemist Per Teodor Cleve in 1879',
      slug    : 'per-teodor-cleve'
    },
    {
      title   : 'Albert Hofmann',
      date    : '11/01/1906',
      content : 'Albert Hofmann was first scientist and person to synthesize, ingest, and learn of the psychedelic effects of lysergic acid diethylamide',
      slug    : 'albert-hofmann'
    }
  ]
}</textarea>
          </div>

          <div class="input">
            <div class="highlighted-code round">

              <div class="button run-button">
                  <span>Compile!</span>
                  <div class="shade"></div>
              </div>

<pre class="exec-timer"><code data-language="javascript">tm = new Thulium( {template: myTemplate} );
tm.parseSync().renderSync( data ); //time</code></pre>
            </div>
            
            <div class="result round">
<pre class="compiled-result"><code data-language="html"><!-- result -->
<div class="post-0">
  <div class="post-title">PER TEODOR CLEVE</div>
  <span class="date">10/2/1840</span>
  <div class="post-content">
    <p>
      Thulium was discover...
    </p>
    <a href="my.domain.com/albert-hofmann"> more...</a>
  </div>
</div>
<div class="post-1">
  <div class="post-title">ALBERT HOFMANN</div>
  <span class="date">11/01/1906</span>
  <div class="post-content">
    <p>
      Thulium was discover...
    </p>
    <a href="my.domain.com/albert-hofmann"> more...</a>
  </div>
</div></code></pre>
            </div>
          </div>

        </div>
      </div>

      <div class="unit">
        <div class="title third h1">So ... what is it?</div>
        <p class="content">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil, perferendis, magnam perspiciatis quisquam consequatur accusamus a alias quo amet pariatur architecto modi dolore ad veritatis dolores non beatae neque culpa!</p>
<pre><code data-language="javascript">//Define Class:
Class('Minion')({
  prototype : {

    name : null,
    position : null,

    init : function ( name ){
      this.name = name;
      this.position = this.name === 'Lumbergh' ? 'Boss' : 'Drone';

      return this;
    },

    getIdentity : function(){
        return this.position + ' - ' + this.name;
    }
  }
});
//Instance it
var gibbonsTheDrone = new Minion('Dave');
var lumberghTheBoss = new Minion('Lumbergh');
//Consume it
console.log( gibbonsTheDrone.getIdentity() );
console.log( lumberghTheBoss.getIdentity() );
</code></pre>  

          <p>The <a href="http://en.wikipedia.org/wiki/Thulium">Neon (Ne)</a> philosophy is that it should not try to emulate other languages, so it preserves the JavaScript good parts, but with a nicer syntax to create classes that ensure interfaces and include reusable functionality as modules.          
         
          <p class="title">What it's not:</p>
          
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta, beatae velit a minima optio inventore voluptates possimus quasi aperiam cum perspiciatis quod tenetur recusandae quae assumenda totam vel laborum ea.</p>

        </p>
      </div>

      <div class="unit">
        <div class="title fourth h1">Neon std-lib</div>

        <p>Neon standard library Lorem ipsum dolor sit amet, consectetur adipisicing elit. Esse, mollitia, perferendis, nobis amet saepe tempore dignissimos magnam labore deserunt earum quis nulla explicabo qui maxime harum corporis commodi iste dolorem.</p>
        
        <ul class="stdlib">
          <li>
            <img class="stdicon fleft" src="img/eventSupport.png" alt="Event Support">
            <div class="stdtext fright">
               <div class="lib-name">Event Support<span>.js</span></div>
               <p>Link stuff sit amet, consectetur adipisicing elit. Animi, molestias, officia minus modi commodi cupiditate eligendi inventore voluptatibus aut impedit explicabo deleniti laboriosam repellendus. Eius, quae porro error tenetur magnam.</p>
            </div>
            <div class="clearfix"></div>
          </li>
          <li>
            <img class="stdicon fleft" src="img/nodeSupport.png" alt="Node Support">
            <div class="stdtext fright">
              <div class="lib-name">Node Support<span>.js</span></div>
              <p>Link stuff sit amet, consectetur adipisicing elit. Animi, molestias, officia minus modi commodi cupiditate eligendi inventore voluptatibus aut impedit explicabo deleniti laboriosam repellendus. Eius, quae porro error tenetur magnam.</p>
            </div>
            <div class="clearfix"></div>
          </li>
          <li>
            <img class="stdicon fleft" src="img/widget.png" alt="Widget">
            <div class="stdtext fright">
              <div class="lib-name">Widget<span>.js</span></div>
              <p>UI some stuff sit amet, consectetur adipisicing elit. Animi, molestias, officia minus modi commodi cupiditate eligendi inventore voluptatibus aut impedit explicabo deleniti laboriosam repellendus. Eius, quae porro error tenetur magnam.</p>
            </div>
            <div class="clearfix"></div>
          </li>                    
        </ul>
        
        
        
      </div>

      <div class="unit">
        <div class="title fourth h1">Usage</div>
        <p class="content">
        <p>It's easy to use. If you want it in the browser, just copy the files somewhere in your project and require the files (Thulium uses <a href="https://github.com/azendal/neon">neon.js</a> for its class system): </p>
          <pre><code data-language="html">
&lt;script src="/vendor/neon.js"&gt;&lt;/script&gt;
          </code></pre>
        <p> If using node:</p>
          <pre><code >$ npm install thulium</code></pre>
          <p>From there, it's as easy as:</p>
          <pre><code data-language="javascript">tm = new Thulium({template: "A template string"});
tm.parseSync().renderSync(context);</code></pre></div>
          <p>Of course, async methods are available:</p>
          <pre><code data-language="javascript">tm.parse(function () {
  tm.render(context, function (view) {
    console.log(view);
  })
})</code></pre>
        </p>
      </div>

      <div class="unit">
        <h1>Examples</h1>
        <div id="simple-template" class="title fifth">A simple template</div>

        <p>The template</p>
        <pre><code data-language="html"><h1>Hello, <%= name %></h1>
<% for (var i = 0; i < 10; i++) { %>
You are awesome.
<% } %></code></pre>
        
        <p>The context</p>
<pre><code data-language="javascript">{
 name: "Col. Mustard"
}</code></pre>
        
        <p>The output</p>
<pre><code data-language="html"><h1>Hello, Col. Mustard</h1>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p>
<p> You are awesome. </p></code></pre>
      
      <p></p>
      <div class="title first">A printable helper (capture style)</div>

        <p>The template</p>
        <pre><code data-language="html"><p>
<%= h.reverse(function (){ %>
This is my reversed string.
<% }) %>
</p></code></pre>
        
        <p>The context</p>
<pre><code data-language="javascript">{
 h: {
    reverse : function (toCapture) {
      // Let's imagine for a second that templateManager is a reference
      // to a ... um, template manager. That has an instance of the
      // current view. Which is our instance of Tm
      var buffer = templateManager.currentView.renderer.capture(toCapture);
      return buffer.split("").reverse().join("");
    }
 }
}</code></pre>
        
        <p>The output</p>
<pre><code data-language="html"><p>
.gnirts desrever ym si sihT
</p></code></pre>
        
        <p></p>
        <div class="title second">A printable helper (custom style)</div>
        <p>The template</p>
        <pre><code data-language="html"><p>
<%= h.embolden(function (){ %>
This guy will be bold.
<% }) %>
</p></code></pre>
        
        <p>The context</p>
<pre><code data-language="javascript">{
 h: {
    embolden : function (printable) {
      // Let's imagine for a second that templateManager is a reference
      // to a ... um, template manager. That has an instance of the
      // current view. Which is our instance of Tm
      templateManager.currentView.renderer.print("<strong>"); // You can send custom prints at any point

      // here we're printing that stuff inside the block by executing it
      printable();

      return "</strong>";  // And/or just return a string, and it will be printed.
    }
 }
}</code></pre>
        
        <p>The output</p>
<pre><code data-language="html"><p>
<strong>
This guy will be bold.
</strong>
</p></code></pre>


      </div>

    <div class="footer">
      <img src="img/forgerons.gif">Crafted with high content of awesome at <a href="http://freshout.us">Freshout</a> by <a href="http://twitter.com/benbeltran">@benbeltran</a> and <a href="http://twitter.com/escusado">@escusado</a>
    </div>

    </div>

  
  </div> <!-- wrapper -->


<script>
  //Simple function object to manage the web
  var thuliumWeb = {
    start : function(){
        this.element = $('.wrapper');

        this.tryButton      = this.element.find('.try-button');
        this.tryButtonLabel = this.element.find('.try-button span');
        
        this.sandbox        = this.element.find('.sandbox');
        this.compileButton  = this.element.find('.run-button');
        this.templateInput  = this.element.find('[name=template]');
        this.contextInput   = this.element.find('[name=context]');
        this.compiledResult = this.element.find('.compiled-result');

        this.bindEvents();
    },

    bindEvents : function(){
        var thw = this;
        this.tryButton.on('click', function(){
            thw.expandSandbox();
        });

        this.compileButton.on('click', function(){
            thw.compileSandbox();
        })

    },

    expandSandbox : function(){
        //declare this component only on button click because '.comment' doesnt exists before rainbow highlight
        this.execTimer = this.element.find('.exec-timer .comment').hide();

        this.sandbox.toggleClass('collapsed');    //show/hide sandbox
        this.tryButtonLabel.toggleClass('hide');  //change button label
    },

    compileSandbox : function(){
      var thw = this;
          myTemplate = this.templateInput.val(),
          data       = this.contextInput.val(),
          context    = eval('(function(){ return '+data+'})')(),
          tm         = null,
          result     = '',
          startTime  = new Date().getTime(),
          endTime    = null;

      //compile
      tm     = new Thulium( {template: myTemplate} );
      result = tm.parseSync().renderSync( context );
      
      endTime = new Date().getTime();
      
      //show exec time
      this.execTimer.hide().html('//exec time: '+ (endTime-startTime) +'ms.').fadeIn();

      //show result

      Rainbow.color( result, 'html', function(highlighted){
        thw.compiledResult.find('code').html( '<span class="comment html">&lt;!-- result --&gt;</span>'+highlighted );
      });

      
    }
  };

  thuliumWeb.start();

</script>
  
</body>
</html>
